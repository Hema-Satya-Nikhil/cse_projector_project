# MongoDB User Authentication - Visual Guide

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                          â”‚
â”‚                     Login/Register Forms                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP POST /api/auth/login
                         â”‚ HTTP POST /api/auth/register
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (Express.js)                          â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   auth.controller.js                           â”‚            â”‚
â”‚  â”‚   â€¢ register(req, res)                         â”‚            â”‚
â”‚  â”‚   â€¢ login(req, res)                            â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                 â”‚                                                â”‚
â”‚                 â”‚ Uses                                           â”‚
â”‚                 â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   User.model.js (Mongoose Model)               â”‚            â”‚
â”‚  â”‚   â€¢ Save new user                              â”‚            â”‚
â”‚  â”‚   â€¢ Find user by email                         â”‚            â”‚
â”‚  â”‚   â€¢ Compare password (bcrypt)                  â”‚            â”‚
â”‚  â”‚   â€¢ Hash password before save                  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ MongoDB Connection
                  â”‚ (database.js)
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MongoDB Database                            â”‚
â”‚                                                                  â”‚
â”‚  Database: cse_projector_db                                     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Collection: users                            â”‚            â”‚
â”‚  â”‚                                                 â”‚            â”‚
â”‚  â”‚   {                                             â”‚            â”‚
â”‚  â”‚     _id: ObjectId("..."),                       â”‚            â”‚
â”‚  â”‚     name: "John Doe",                           â”‚            â”‚
â”‚  â”‚     email: "john@cse.edu",                      â”‚            â”‚
â”‚  â”‚     password: "$2a$10$hashed...",               â”‚            â”‚
â”‚  â”‚     role: "faculty",                            â”‚            â”‚
â”‚  â”‚     designation: "Professor",                   â”‚            â”‚
â”‚  â”‚     createdAt: ISODate("..."),                  â”‚            â”‚
â”‚  â”‚     updatedAt: ISODate("...")                   â”‚            â”‚
â”‚  â”‚   }                                             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  projectors     â”‚  bookings    â”‚  activities  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Registration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User fills  â”‚
â”‚ registration â”‚
â”‚     form     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /api/auth/register
       â”‚ { name, email, password, designation }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth.controller.js:register() â”‚
â”‚                                 â”‚
â”‚  1. Validate input             â”‚
â”‚  2. Check if email exists      â”‚â”€â”€â”€â–º Email exists? â†’ Error 400
â”‚  3. Create user object         â”‚
â”‚  4. Save to database           â”‚
â”‚     (password auto-hashed)     â”‚
â”‚  5. Generate JWT token         â”‚
â”‚  6. Return token + user data   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Mongoose save hook
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User.model.js           â”‚
â”‚                          â”‚
â”‚  pre('save', ...)        â”‚
â”‚  1. Check if password    â”‚
â”‚     is modified          â”‚
â”‚  2. Generate salt (10)   â”‚
â”‚  3. Hash password        â”‚
â”‚     "password123"        â”‚
â”‚     â†“                    â”‚
â”‚     "$2a$10$ABC...XYZ"   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Save to MongoDB
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB: users         â”‚
â”‚                          â”‚
â”‚   Document created:      â”‚
â”‚   {                      â”‚
â”‚     email: "...",        â”‚
â”‚     password: "hashed",  â”‚
â”‚     ...                  â”‚
â”‚   }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Login Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User enters â”‚
â”‚ email + pass â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /api/auth/login
       â”‚ { email: "john@cse.edu", password: "password123" }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth.controller.js:login()    â”‚
â”‚                                 â”‚
â”‚  1. Find user by email         â”‚
â”‚  2. Check if user exists       â”‚â”€â”€â”€â–º Not found? â†’ Error 401
â”‚  3. Check if active            â”‚â”€â”€â”€â–º Inactive? â†’ Error 401
â”‚  4. Compare password           â”‚
â”‚  5. Generate JWT token         â”‚
â”‚  6. Return token + user        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Query MongoDB
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB: users         â”‚
â”‚                          â”‚
â”‚   Find user:             â”‚
â”‚   { email: "john@..." }  â”‚
â”‚                          â”‚
â”‚   Returns user with      â”‚
â”‚   hashed password        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ User document
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User.comparePassword()      â”‚
â”‚                              â”‚
â”‚  Input: "password123"        â”‚
â”‚  Stored: "$2a$10$ABC...XYZ"  â”‚
â”‚                              â”‚
â”‚  bcrypt.compare(             â”‚
â”‚    "password123",            â”‚
â”‚    "$2a$10$ABC...XYZ"        â”‚
â”‚  )                           â”‚
â”‚  â†“                           â”‚
â”‚  true âœ“ or false âœ—           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ If true
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate JWT Token      â”‚
â”‚                          â”‚
â”‚  jwt.sign(               â”‚
â”‚    { id: user._id },     â”‚
â”‚    JWT_SECRET,           â”‚
â”‚    { expiresIn: "7d" }   â”‚
â”‚  )                       â”‚
â”‚  â†“                       â”‚
â”‚  "eyJhbGciOi..."         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Return to client
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response:               â”‚
â”‚  {                       â”‚
â”‚    token: "...",         â”‚
â”‚    user: {               â”‚
â”‚      id: "...",          â”‚
â”‚      name: "John Doe",   â”‚
â”‚      email: "...",       â”‚
â”‚      role: "faculty"     â”‚
â”‚    }                     â”‚
â”‚  }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## MongoDB Connection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  server.js       â”‚
â”‚  starts          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ import connectDB
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  config/database.js             â”‚
â”‚                                  â”‚
â”‚  connectDB() {                   â”‚
â”‚    mongoose.connect(             â”‚
â”‚      process.env.MONGODB_URI    â”‚â”€â”€â”€â”€â”€â”
â”‚    )                             â”‚     â”‚
â”‚  }                               â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
               â”‚                         â”‚
               â”‚                         â”‚ Read from
               â–¼                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  MongoDB Server                  â”‚     â”‚
â”‚                                  â”‚     â”‚
â”‚  Atlas:                          â”‚     â”‚
â”‚  mongodb+srv://user:pass@        â”‚â—„â”€â”€â”€â”€â”˜
â”‚  cluster.mongodb.net/db          â”‚  .env file
â”‚                                  â”‚  MONGODB_URI
â”‚  OR Local:                       â”‚
â”‚  mongodb://localhost:27017/db    â”‚
â”‚                                  â”‚
â”‚  Connection established âœ“        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Console output
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… MongoDB Connected:           â”‚
â”‚     cluster.mongodb.net          â”‚
â”‚  ğŸ“Š Database: cse_projector_db  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Password Hashing Process

```
Plain Text Password
       â”‚
       â”‚ "password123"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bcrypt.genSalt(10)      â”‚
â”‚                          â”‚
â”‚  Generates random salt   â”‚
â”‚  "$2a$10$NqKJxF..."      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Salt
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bcrypt.hash(password, salt)     â”‚
â”‚                                   â”‚
â”‚  Combines password + salt         â”‚
â”‚  Runs 10 rounds of hashing        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Hashed Password
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "$2a$10$NqKJxF...abc123xyz"             â”‚
â”‚  â†‘    â†‘   â†‘         â†‘                    â”‚
â”‚  â”‚    â”‚   â”‚         â””â”€ Hash (60 chars)   â”‚
â”‚  â”‚    â”‚   â””â”€ Salt                         â”‚
â”‚  â”‚    â””â”€ Rounds (2^10 = 1024)            â”‚
â”‚  â””â”€ Algorithm (bcrypt)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Stored in MongoDB
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  users collection:                â”‚
â”‚  {                                â”‚
â”‚    password: "$2a$10$Nq..."      â”‚
â”‚  }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Environment Variables Flow

```
.env file
â”œâ”€â”€ MONGODB_URI=mongodb+srv://...
â”œâ”€â”€ JWT_SECRET=your_secret_key
â””â”€â”€ JWT_EXPIRE=7d
       â”‚
       â”‚ dotenv.config()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  process.env                      â”‚
â”‚                                   â”‚
â”‚  process.env.MONGODB_URI         â”‚â”€â”€â–º config/database.js
â”‚  process.env.JWT_SECRET          â”‚â”€â”€â–º auth.controller.js
â”‚  process.env.JWT_EXPIRE          â”‚â”€â”€â–º auth.controller.js
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure & Responsibilities

```
backend/
â”‚
â”œâ”€â”€ .env                          â† MongoDB connection string
â”‚   â””â”€â”€ MONGODB_URI=...
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.js               â† Connects to MongoDB
â”‚       â””â”€â”€ mongoose.connect(MONGODB_URI)
â”‚
â”œâ”€â”€ models/
â”‚   â””â”€â”€ User.model.js             â† User schema & password hashing
â”‚       â”œâ”€â”€ Schema definition
â”‚       â”œâ”€â”€ pre('save') hook â†’ Hash password
â”‚       â””â”€â”€ comparePassword() â†’ Verify password
â”‚
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ auth.controller.js        â† Login/Register logic
â”‚       â”œâ”€â”€ register() â†’ Create user
â”‚       â””â”€â”€ login() â†’ Authenticate user
â”‚
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ auth.routes.js            â† API endpoints
â”‚       â”œâ”€â”€ POST /api/auth/register
â”‚       â””â”€â”€ POST /api/auth/login
â”‚
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.middleware.js        â† JWT verification
â”‚       â””â”€â”€ protect() â†’ Verify token
â”‚
â””â”€â”€ server.js                     â† Entry point
    â”œâ”€â”€ connectDB()
    â””â”€â”€ app.use('/api/auth', authRoutes)
```

## Quick Setup Flowchart

```
Start
  â”‚
  â”œâ”€â–º Have MongoDB Atlas account?
  â”‚   â”œâ”€â–º Yes â”€â–º Get password â”€â–º Update .env â”€â–º Whitelist IP â”€â”
  â”‚   â””â”€â–º No â”€â”€â–º Install local â”€â–º Start service â”€â–º Update .env â”€â”¤
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    Test connection
                    node test-mongo-connection.js
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
                 Success              Failed
                    â”‚                   â”‚
                    â–¼                   â–¼
              Seed database      Fix connection
              npm run seed       (see error msg)
                    â”‚                   â”‚
                    â–¼                   â”‚
              Start server              â”‚
              npm run dev               â”‚
                    â”‚                   â”‚
                    â–¼                   â”‚
              Test login â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              (frontend or API)
                    â”‚
                    â–¼
                  Done! âœ“
```

---

## Color-Coded Component Map

```
ğŸ”µ Frontend Layer
   â””â”€â–º User Interface (React forms)

ğŸŸ¢ Backend Layer
   â”œâ”€â–º Routes (API endpoints)
   â”œâ”€â–º Controllers (Business logic)
   â”œâ”€â–º Models (Data schemas)
   â””â”€â–º Middleware (JWT verification)

ğŸŸ¡ Database Layer
   â””â”€â–º MongoDB (Data storage)

ğŸ”´ Security Layer
   â”œâ”€â–º Bcrypt (Password hashing)
   â””â”€â–º JWT (Token authentication)

âšª Configuration Layer
   â”œâ”€â–º .env (Environment variables)
   â””â”€â–º database.js (Connection setup)
```

---

This visual guide shows you exactly how all the pieces fit together! ğŸ¯
